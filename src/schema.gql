# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type BundleInfo {
  bundleId: String!
  exists: Boolean!
  size: Int
  tileCount: Int
}

type BundleRequest {
  format: String!
  tileIndices: [Int!]!
  version: String!
}

input BundleRequestInput {
  format: String! = "base64"
  tileIndices: [Int!]!
  version: String!
}

type BundleWithGrid {
  format: String!
  gridRegion: GridRegion!
  tileIndices: [Int!]!
  version: String!
}

type Category {
  categoryName: String!
  hiddenByDefault: Boolean!
  id: String!
}

type Changelog {
  changeType: String!
  id: Int!
  modifiedBy: String!
  timestamp: DateTime!
}

type Coordinate {
  x: Float!
  y: Float!
}

input CoordinateInput {
  x: Float!
  y: Float!
}

input CreateCategoryInput {
  categoryName: String!
  hiddenByDefault: Boolean = false
}

input CreateChangelogInput {
  changeType: String!
  modifiedBy: String!
}

input CreateLocationInput {
  category: String!
  coordinates: [CoordinateInput!]
  description: String
  icon: String
  iconColor: String
  iconSize: Float
  locationName: String!
  mediaUrl: String
  noCluster: Boolean! = false
  radius: Float
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type GridRegion {
  endX: Int!
  endY: Int!
  startX: Int!
  startY: Int!
}

type Icon {
  category: String!
  createdAt: DateTime!
  id: ID!
  name: String!
  path: String!
  size: Float
  url: String!
}

type Location {
  category: Category!
  coordinates: [Coordinate!]
  createdAt: DateTime!
  createdBy: String
  description: String
  icon: String
  iconColor: String
  iconSize: Float
  id: ID!
  lastUpdateBy: String
  locationName: String!
  mediaUrl: String
  noCluster: Boolean!
  radius: Float
  updatedAt: DateTime!
}

type MapGridInfo {
  """Grid dimension (sqrt of tilecount)"""
  gridSize: Int!
  totalTiles: Int!
  version: String!
}

type MapVersion {
  """Grid size (sqrt of tilecount)"""
  gridSize: Int!
  isLatest: Boolean!

  """Maximum tile index (tilecount - 1)"""
  maxTileIndex: Int!

  """Minimum tile index (always 0)"""
  minTileIndex: Int!
  name: String!
  path: String!
  tilecount: Int!
  version: String!
}

type Mutation {
  createCategory(createCategoryInput: CreateCategoryInput!): Category!
  createChangelogEntry(createChangelogInput: CreateChangelogInput!): Changelog!

  "\n      Create a new location. Examples for coordinates:\n      - Single marker: [37.7749, -122.4194]\n      - Multiple markers: [[37.7749, -122.4194], [40.7128, -74.0060], [34.0522, -118.2437]]\n      Requires API key in x-api-key header.\n    "
  createLocation(createLocationInput: CreateLocationInput!): Location!

  """Refresh the icon index from S3"""
  refreshIconIndex: Boolean!
  removeCategory(id: ID!): Boolean!
  removeLocation(id: ID!): Boolean!
  updateCategory(updateCategoryInput: UpdateCategoryInput!): Category!
  updateLocation(updateLocationInput: UpdateLocationInput!): Location!
}

type Query {
  allTileCoordinates(version: String!): [TileCoordinate!]!
  bundleInfo(bundleId: String!): BundleInfo!
  categories: [Category!]!
  category(id: ID!): Category!
  changelog: [Changelog!]!
  getAllTileFilesJson: String!

  """Get icon by ID"""
  icon(id: String!): Icon

  """Get all icon categories"""
  iconCategories: [String!]!

  """Get all icons from the S3 bucket"""
  icons: [Icon!]!

  """Get icons by category"""
  iconsByCategory(category: String!): [Icon!]!
  latestMapVersion: MapVersion!
  listS3TileFiles(version: String!): [S3TileFile!]!
  location(id: ID!): Location!
  locations: [Location!]!
  mapGridInfo(version: String!): MapGridInfo!
  mapTileBundle(bundleRequest: BundleRequestInput!): TileBundle!
  mapVersion(version: String!): MapVersion
  mapVersions: [MapVersion!]!
  optimalTileBundles(chunkSize: Int, version: String!): [BundleRequest!]!
  optimalTileBundlesWithGrid(chunkSize: Int! = 25, version: String!): [BundleWithGrid!]!
  preloadMapVersion(chunkSize: Int! = 25, version: String!): String!
  recentChanges(limit: Int!): [Changelog!]!

  """Search icons by name, category, or path"""
  searchIcons(query: String!): [Icon!]!
  tileAtCoordinate(version: String!, x: Int!, y: Int!): TileCoordinate!
  tileCoordinate(index: Int!, version: String!): TileCoordinate!
  tileFilesFromS3(version: String!): [S3TileFile!]!
  tilesByRegion(endX: Int!, endY: Int!, startX: Int!, startY: Int!, version: String!): [TileCoordinate!]!
}

type S3TileFile {
  filename: String!
  index: Int!
  lastModified: DateTime!
  size: Int!
  url: String!
}

type TileBundle {
  bundleId: String!
  createdAt: DateTime!
  tiles: [TileBundleItem!]!
  totalSize: Int!
  version: String!
}

type TileBundleItem {
  data: String!
  index: Int!
  size: Int!
}

type TileCoordinate {
  index: Int!
  version: String!
  x: Int!
  y: Int!
}

input UpdateCategoryInput {
  categoryName: String
  hiddenByDefault: Boolean
  id: ID!
}

input UpdateLocationInput {
  category: String
  coordinates: [CoordinateInput!]
  description: String
  icon: String
  iconColor: String
  iconSize: Float
  id: ID!
  locationName: String
  mediaUrl: String
  noCluster: Boolean = false
  radius: Float
}